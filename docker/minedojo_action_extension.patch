# MineDojo Action Extension Patch
# 支持 MineRL 动作空间: inventory, swapHands, pickItem, GUI 鼠标控制
# 生成时间: 2025-11-20

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/sim.py
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/sim.py.orig
+++ sim/sim.py
@@ -236,6 +236,9 @@
             "use",
             "attack",
             "drop",
+            "inventory",
+            "swapHands",
+            "pickItem",
         ]
         action_handlers = [
             handlers.CameraAction(),

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/mc_meta/mc.py
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/mc_meta/mc.py.orig
+++ sim/mc_meta/mc.py
@@ -468,7 +468,7 @@
     "-99": "use",  # BUTTON1 Right Click
     "-98": "pickItem",  # BUTTON2 Middle Click
     # '20': 'chat',  # This and following not currently in use
-    # '33': 'swapHands',
+    '33': 'swapHands',
     # '15': 'playerlist',  # Show player list gui
     # '53': 'command',  # Start typing server cmd
     # '60': 'screenshot',

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/wrappers/ar_nn/nn_action_space_wrapper.py
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/wrappers/ar_nn/nn_action_space_wrapper.py.orig
+++ sim/wrappers/ar_nn/nn_action_space_wrapper.py
@@ -41,7 +41,7 @@
                 4,  # 0: noop, 1: jump, 2: sneak, 3: sprint
                 n_pitch_bins,  # camera pitch, 0: -180, n_pitch_bins - 1: +180
                 n_yaw_bins,  # camera yaw, 0: -180, n_yaw_bins - 1: +180,
-                8,  # functional actions, 0: no_op, 1: use, 2: drop, 3: attack 4: craft 5: equip 6: place 7: destroy
+                11,  # functional actions, 0: no_op, 1: use, 2: drop, 3: attack 4: craft 5: equip 6: place 7: destroy 8: inventory 9: swapHands 10: pickItem
                 len(MC.ALL_CRAFT_SMELT_ITEMS),  # arg for "craft"
                 MC.N_INV_SLOTS,  # arg for "equip", "place", and "destroy"
             ],
@@ -145,6 +145,15 @@
                     )
             else:
                 destroy_item = (True, action[7])
+        elif fn_action == 8:
+            # inventory action - added for STEVE-1 compatibility
+            noop["inventory"] = 1
+        elif fn_action == 9:
+            # swapHands action - swap items between main hand and offhand
+            noop["swapHands"] = 1
+        elif fn_action == 10:
+            # pickItem action - middle click to pick block
+            noop["pickItem"] = 1
         else:
             raise ValueError(f"Unknown value {fn_action} for function action")
         return noop, destroy_item

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CommandForKey.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CommandForKey.java.orig
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CommandForKey.java
@@ -20,10 +20,13 @@
 package com.microsoft.Malmo.MissionHandlers;
 
 import java.lang.reflect.Field;
+import java.util.HashSet;
+import java.util.Set;
 
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
+import net.minecraft.client.gui.inventory.GuiContainer;
 import net.minecraftforge.client.settings.KeyBindingMap;
 
 import com.microsoft.Malmo.Client.FakeKeyboard;
@@ -44,6 +47,50 @@
     public static final String DOWN_COMMAND_STRING = "1";
     public static final String UP_COMMAND_STRING = "0";
 
+    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+    // 状态驱动键盘控制（MCP-Reborn 风格）
+    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+
+
+    /**
+     * 跟踪 inventory 键是否在 "keys 列表" 中（模拟 MCP-Reborn 的 KeyboardListener.State）
+     * - false: 键不在列表中（相当于 inventory=0）
+     * - true: 键在列表中（相当于 inventory=1）
+     */
+    private static boolean inventoryInKeysList = false;
+
+    private static void toggleInventoryKey(KeyBinding keyBinding, boolean pressed){
+        int keyCode = keyBinding.getKeyCode();
+
+        if (pressed){
+            KeyBinding.setKeyBindState(keyCode, pressed);
+            if (!inventoryInKeysList){
+                // 第一次 inventory=1: 打开 GUI
+                KeyBinding.onTick(keyCode);
+                inventoryInKeysList = true;
+            }else{
+                // 第二次 inventory=1: 关闭 GUI
+                
+                // 直接调用 GUI 的 close 方法
+                Minecraft mc = Minecraft.getMinecraft();
+                if (mc.currentScreen != null) {
+                    mc.currentScreen.onGuiClosed();
+                    mc.currentScreen = null;
+                }
+                
+                // 重置状态
+                KeyBinding.setKeyBindState(keyCode, false);
+                inventoryInKeysList = false;
+            }
+        }else{
+            // inventory=0: 保持当前状态
+            if (inventoryInKeysList){
+                // GUI 打开中，继续发送 onTick 保持打开
+                KeyBinding.onTick(keyCode);
+            }
+        }
+    }
+
     public interface KeyEventListener
     {
         public void onKeyChange(String commandString, boolean pressed);
@@ -393,8 +440,9 @@
         // return (this.keyHook != null) ? this.keyHook.execute(verb, parameter) : false;
 
         if (verb != null && verb.equalsIgnoreCase(keyHook.getCommandString())) {
+            // 其他命令：使用原始的 FakeKeyboard 事件驱动
             if (verb.equals("attack")) {
-                // imitate right mouse button click
+                // imitate left mouse button click
                 if (parameter != null && parameter.equalsIgnoreCase(DOWN_COMMAND_STRING)) {
                     FakeMouse.pressButton(0);
                 } else if (parameter != null && parameter.equalsIgnoreCase(UP_COMMAND_STRING)) {
@@ -411,13 +459,28 @@
                 } else {
                     return false;
                 }
-            } 
-            if (parameter != null && parameter.equalsIgnoreCase(DOWN_COMMAND_STRING)) {
-                FakeKeyboard.press(keyHook.getKeyCode());
-            } else if (parameter != null && parameter.equalsIgnoreCase(UP_COMMAND_STRING)) {
-                FakeKeyboard.release(keyHook.getKeyCode());
             } else {
-                return false;
+                // 其他按键命令
+                // 特殊处理：inventory 使用简单 Toggle（每次 inventory=1 触发一次按键）
+                if (verb.equals("inventory")) {
+                    if (parameter != null && parameter.equalsIgnoreCase(DOWN_COMMAND_STRING)) {
+                        toggleInventoryKey(keyHook, true);
+                    } else if (parameter != null && parameter.equalsIgnoreCase(UP_COMMAND_STRING)) {
+                        toggleInventoryKey(keyHook, false);
+                    } else {
+                        return false;
+                    }
+                    return true;
+                }else {
+                    if (parameter != null && parameter.equalsIgnoreCase(DOWN_COMMAND_STRING)) {
+                        FakeKeyboard.press(keyHook.getKeyCode());
+                        FakeKeyboard.release(keyHook.getKeyCode());
+                    } else if (parameter != null && parameter.equalsIgnoreCase(UP_COMMAND_STRING)) {
+                        FakeKeyboard.release(keyHook.getKeyCode());
+                    } else {
+                        return false;
+                    }
+                }
             }
             return true;
         }

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CameraCommandsImplementation.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CameraCommandsImplementation.java.orig
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/MissionHandlers/CameraCommandsImplementation.java
@@ -53,34 +53,32 @@
                 String[] camParams = parameter.split(" ");
                 double pitch = Double.parseDouble(camParams[0]);
                 double yaw = Double.parseDouble(camParams[1]);
-// TODO (yunfan): Consider using the following commented code when upgrade to fully keyboard-mouse-level control
-//                 if (MalmoMod.isLowLevelInput()) {
-//                     double sensitivity = 3.0;
-//                     if (yaw != 0.0 || pitch != 0.0) {
-//                         FakeMouse.addMovement((int) (sensitivity * yaw), -(int) (sensitivity * pitch));
-//                     }
-//                 } else {
-//                     EntityPlayerSP player = Minecraft.getMinecraft().player;
-//                     if (player != null) {
-//                         this.currentYaw = player.rotationYaw;
-//                         this.currentPitch = player.rotationPitch;
-//
-//                         player.setPositionAndRotation(player.posX, player.posY, player.posZ, (float) (this.currentYaw + yaw), (float) (this.currentPitch + pitch));
-//
-//                         this.currentYaw = player.rotationYaw;
-//                         this.currentPitch = player.rotationPitch;
-//                     }
-//                 }
-                EntityPlayerSP player = Minecraft.getMinecraft().player;
-                if (player != null) {
-                    this.currentYaw = player.rotationYaw;
-                    this.currentPitch = player.rotationPitch;
+                
+                // 使用 FakeMouse 进行鼠标移动（支持 GUI 操作）
+                // 与 MineRL 一致：使用 isLowLevelInput() 检查
+                
+                if (MalmoMod.isLowLevelInput()) {
+                    double sensitivity = 3.0;
+                    if (yaw != 0.0 || pitch != 0.0) {
+                        int dx = (int) (sensitivity * yaw);
+                        int dy = -(int) (sensitivity * pitch);
+                        FakeMouse.addMovement(dx, dy);
+                    }
+                } else {
+                    // 非低级输入模式：直接设置玩家视角
+                    EntityPlayerSP player = Minecraft.getMinecraft().player;
+                    if (player != null) {
+                        this.currentYaw = player.rotationYaw;
+                        this.currentPitch = player.rotationPitch;
 
-                    player.setPositionAndRotation(player.posX, player.posY, player.posZ, (float) (this.currentYaw + yaw), (float) (this.currentPitch + pitch));
+                        player.setPositionAndRotation(player.posX, player.posY, player.posZ, 
+                            (float) (this.currentYaw + yaw), (float) (this.currentPitch + pitch));
 
-                    this.currentYaw = player.rotationYaw;
-                    this.currentPitch = player.rotationPitch;
+                        this.currentYaw = player.rotationYaw;
+                        this.currentPitch = player.rotationPitch;
+                    }
                 }
+                
                 return true;
             }
         } catch (NumberFormatException e) {

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/FakeMouse.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/FakeMouse.java.orig
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/FakeMouse.java
@@ -44,7 +44,7 @@
     private static boolean grabbed = false;
     private static boolean humanInput = true;
 
-    // private static FakeMouseCursor cursor = new FakeMouseCursor();
+    private static FakeMouseCursor cursor = new FakeMouseCursor();
 
 
     public static void setHumanInput(boolean humanInput) {
@@ -202,8 +202,15 @@
         dy += event.dy;
         accumDx += event.dx;
         accumDy += event.dy;
+        
+        // 调试：追踪坐标变化
+        int oldX = x;
+        int oldY = y;
         x = event.x;
         y = event.y;
+        if (event.dx != 0 || event.dy != 0) {
+        }
+        
         eventQueue.add(event);
     }
 
@@ -252,6 +259,14 @@
     }
 
     public static void setCursorPosition(int newX, int newY) {
+        // 调试：追踪谁在重置鼠标坐标
+        if (x != newX || y != newY) {
+            // 打印调用栈
+            StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();
+            for (int i = 2; i < Math.min(6, stackTrace.length); i++) {
+                System.out.println("  [" + i + "] " + stackTrace[i]);
+            }
+        }
         x = newX;
         y = newY;
     }

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/ClientStateMachine.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/ClientStateMachine.java.orig
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Client/ClientStateMachine.java
@@ -1913,7 +1913,7 @@
             
             if (missionBehaviour.lowLevelInputs) {
                 Minecraft.getMinecraft().gameSettings.hideGUI = false;
-                Minecraft.getMinecraft().gameSettings.guiScale = 2;
+                Minecraft.getMinecraft().gameSettings.guiScale = 1;
                 Minecraft.getMinecraft().gameSettings.fancyGraphics = true;
             } else {
                 // Disable the gui for the episode!

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 新增文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Mixins/MixinMinecraftGuiIdempotent.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- /dev/null
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Mixins/MixinMinecraftGuiIdempotent.java
@@ -0,0 +1,139 @@
+package com.microsoft.Malmo.Mixins;
+
+import net.minecraft.client.Minecraft;
+import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.entity.EntityPlayerSP;
+import net.minecraft.client.gui.GuiGameOver;
+import net.minecraft.client.gui.GuiIngameMenu;
+import net.minecraft.client.gui.GuiMainMenu;
+import net.minecraft.client.gui.GuiScreen;
+import net.minecraft.client.gui.ScaledResolution;
+import net.minecraft.client.gui.inventory.GuiInventory;
+import net.minecraft.client.multiplayer.WorldClient;
+import net.minecraft.client.settings.GameSettings;
+import net.minecraft.client.settings.KeyBinding;
+import net.minecraft.util.MouseHelper;
+import net.minecraftforge.client.event.GuiOpenEvent;
+import net.minecraftforge.common.MinecraftForge;
+import org.lwjgl.input.Keyboard;
+import org.lwjgl.input.Mouse;
+import org.spongepowered.asm.mixin.Mixin;
+import org.spongepowered.asm.mixin.Overwrite;
+import org.spongepowered.asm.mixin.Shadow;
+
+/**
+ * 阻止重复打开相同类型的 GUI，特别是 GuiInventory
+ * 这解决了鼠标位置被重复重置的问题
+ * 
+ * @author MineDojo Team
+ * @reason 添加幂等性检查，防止 GUI 重复打开导致鼠标位置被重置
+ */
+@Mixin(Minecraft.class)
+public abstract class MixinMinecraftGuiIdempotent {
+    
+    @Shadow
+    public GuiScreen currentScreen;
+    
+    @Shadow
+    public WorldClient world;
+    
+    @Shadow
+    public EntityPlayerSP player;
+    
+    @Shadow
+    public MouseHelper mouseHelper;
+    
+    @Shadow
+    public boolean skipRenderWorld;
+    
+    @Shadow
+    public GameSettings gameSettings;
+    
+    @Shadow
+    private SoundHandler mcSoundHandler;
+    
+    @Shadow
+    public net.minecraft.client.gui.GuiIngame ingameGUI;
+    
+    @Shadow
+    public abstract void setIngameNotInFocus();
+    
+    @Shadow
+    public abstract void setIngameFocus();
+    
+    /**
+     * 覆盖 displayGuiScreen 方法，添加幂等性检查
+     * 阻止重复打开相同类型的 GUI，避免鼠标位置被重置
+     * 
+     * @author MineDojo Team
+     * @reason 添加幂等性检查，防止 GUI 重复打开导致鼠标位置被重置
+     */
+    @Overwrite
+    public void displayGuiScreen(GuiScreen guiScreenIn) {
+        // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+        // 幂等性检查 1: 阻止在 GuiInventory 打开时关闭它（阻止循环中的关闭）
+        // 注意：CommandForKey 直接设置 currentScreen = null，不会触发此方法
+        // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+        if (guiScreenIn == null && this.currentScreen instanceof net.minecraft.client.gui.inventory.GuiInventory) {
+            return; // 阻止循环中的关闭
+        }
+        
+        // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+        // 幂等性检查 2: 阻止重复打开相同的 GuiInventory
+        // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+        if (guiScreenIn != null && this.currentScreen != null &&
+            guiScreenIn.getClass() == this.currentScreen.getClass()) {
+            return;  // 直接返回，不执行后续代码
+        }
+        // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
+        
+        // 以下是原始的 displayGuiScreen 逻辑
+        if (guiScreenIn == null && this.world == null) {
+            guiScreenIn = new GuiMainMenu();
+        } else if (guiScreenIn == null && this.player.getHealth() <= 0.0f) {
+            guiScreenIn = new GuiGameOver(null);
+        }
+        
+        GuiScreen old = this.currentScreen;
+        GuiOpenEvent event = new GuiOpenEvent(guiScreenIn);
+        
+        if (MinecraftForge.EVENT_BUS.post(event)) {
+            return;
+        }
+        
+        guiScreenIn = event.getGui();
+        
+        if (old != null && guiScreenIn != old) {
+            old.onGuiClosed();
+        }
+        
+        if (guiScreenIn instanceof GuiMainMenu || guiScreenIn instanceof net.minecraft.client.gui.GuiMultiplayer) {
+            this.gameSettings.showDebugInfo = false;
+            this.ingameGUI.getChatGUI().clearChatMessages(true);
+        }
+        
+        this.currentScreen = guiScreenIn;
+        
+        if (guiScreenIn != null) {
+            this.setIngameNotInFocus();
+            KeyBinding.unPressAllKeys();
+            
+            while (Mouse.next()) {
+                // 清空鼠标事件队列
+            }
+            
+            while (Keyboard.next()) {
+                // 清空键盘事件队列
+            }
+            
+            ScaledResolution scaledresolution = new ScaledResolution((Minecraft)(Object)this);
+            int i = scaledresolution.getScaledWidth();
+            int j = scaledresolution.getScaledHeight();
+            guiScreenIn.setWorldAndResolution((Minecraft)(Object)this, i, j);
+            this.skipRenderWorld = false;
+        } else {
+            this.mcSoundHandler.resumeSounds();
+            this.setIngameFocus();
+        }
+    }
+}

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 新增文件: minedojo/sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Mixins/MixinGuiAchievementDisable.java
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- /dev/null
+++ sim/Malmo/Minecraft/src/main/java/com/microsoft/Malmo/Mixins/MixinGuiAchievementDisable.java
@@ -0,0 +1,28 @@
+package com.microsoft.Malmo.Mixins;
+
+import net.minecraft.client.gui.achievement.GuiAchievement;
+import org.spongepowered.asm.mixin.Mixin;
+import org.spongepowered.asm.mixin.Overwrite;
+
+/**
+ * 禁用 Minecraft 成就通知
+ * 阻止右上角的成就弹窗显示
+ * 
+ * @author AIMC
+ * @reason 禁用成就通知以避免干扰训练和观察
+ */
+@Mixin(GuiAchievement.class)
+public class MixinGuiAchievementDisable {
+    
+    /**
+     * 覆盖 updateAchievementWindow 方法，阻止成就窗口更新
+     * 
+     * @author AIMC
+     * @reason 禁用成就通知系统
+     */
+    @Overwrite
+    public void updateAchievementWindow() {
+        // 不做任何事，阻止成就通知显示
+    }
+}
+

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/src/main/resources/mixins.overclocking.malmomod.json
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/src/main/resources/mixins.overclocking.malmomod.json.orig
+++ sim/Malmo/Minecraft/src/main/resources/mixins.overclocking.malmomod.json
@@ -17,7 +17,8 @@
     "MixinForgeHookStatsFix",
     "MixinItemFood",
     "MixinItemBucketMilk",
+    "MixinMinecraftGuiIdempotent",
+    "MixinGuiAchievementDisable"
   ],
   "server": [],
   "client": [

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件: minedojo/sim/Malmo/Minecraft/run/options.txt
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
--- sim/Malmo/Minecraft/run/options.txt.orig
+++ sim/Malmo/Minecraft/run/options.txt
@@ -5,7 +5,7 @@
 gamma:2.0
 saturation:0.0
 renderDistance:4
-guiScale:0
+guiScale:2
 particles:2
 bobView:false
 anaglyph3d:false
